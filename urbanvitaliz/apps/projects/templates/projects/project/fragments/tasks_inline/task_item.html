{% load static %}
<div class="bg-white border rounded d-flex flex-column py-3 px-4 mb-2">
    <div class="d-flex w-100 justify-content-between align-items-center">
        <div class="d-flex flex-column">
            <i class="task-separator mt-1 mb-2"></i>
            <span style="cursor:pointer;" class="fw-bold mt-0 pt-0 font-medium"
                  x-text="task.intent"
                  @click="onPreviewClick(task.id)"></span>
        </div>
        {% if can_manage and not disable_edit %}
            <div>
                <template x-if="i > 0">
                    <a class="d-block p-1"
                       @click="moveAbove(task, column(board.status)[i - 1])"
                       style="cursor: pointer">
                        <svg class="aling-middle bi ms-1" width="25px" height="25px" fill="#222">
                            <use xlink:href="{% static 'svg/bootstrap-icons.svg' %}#arrow-up-square" />
                        </svg>
                    </a>
                </template>
                <template x-if="i < column(board.status).length - 1">
                    <a class="d-block p-1"
                       @click="moveBelow(task, column(board.status)[i + 1])"
                       style="cursor: pointer">
                        <svg class="aling-middle bi ms-1" width="25px" height="25px" fill="#222">
                            <use xlink:href="{% static 'svg/bootstrap-icons.svg' %}#arrow-down-square" />
                        </svg>
                    </a>
                </template>
            </div>
        {% endif %}
    </div>
    <article class="mt-2">
        <template x-if="task.content !== ''">
            <p x-html="renderMarkdown(task.content)"
               class="text-info-custm font-small text-grey-dark m-0 p-0"></p>
        </template>
    </article>
</div>
