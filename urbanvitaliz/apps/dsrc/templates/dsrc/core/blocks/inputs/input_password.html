<div class="fr-password"
     id="{{ field.id_for_label }}"
     data-test="{{ field.field.widget.attrs.field_test_id }}">
    <label {% if not fake_field %}for="{{ field.id_for_label }}"{% endif %}
           class="fr-label">
        {{ field.label|safe }}
        {% if field.field.help_text %}<span class="fr-hint-text">{{ field.field.help_text }}</span>{% endif %}
    </label>
    <div class="fr-input-wrap">
        <input x-model="form['{{ field.html_name }}'].value"
               class="fr-password__input fr-input {% if field.field.errors %}fr-input--error{% endif %}{% if field.field.is_valid %} fr-input--valid{% endif %} {{ field.field.widget.attrs.classes }}"
               aria-describedby="{{ field.id_for_label }}-input-messages"
               aria-required="true"
               name="password"
               autocomplete="new-password"
               id="{{ field.id_for_label }}-input"
               type="password"
               data-test="{{ field.field.widget.attrs.input_test_id }}">
    </div>
    {% if field.field.widget.attrs.message_group %}
        <div class="fr-messages-group"
             id="{{ field.id_for_label }}-input-messages"
             aria-live="assertive">
            <p class="fr-message" id="{{ field.id_for_label }}-input-message">
                {{ field.field.widget.attrs.message_group.help_text }}
            </p>
            {% for message in field.field.widget.attrs.message_group.messages %}
                <p class="fr-message{% if message.type %} fr-message--{{ message.type }}{% endif %}"
                   id="{{ field.id_for_label }}-input-message-info-{{ forloop.counter }}">{{ message.text }}</p>
            {% endfor %}
        </div>
    {% endif %}
    <div class="fr-password__checkbox fr-checkbox-group{% if field.field.widget.attrs.size %} fr-checkbox-group--{{ field.field.widget.attrs.size }}{% endif %} {{ field.field.widget.attrs.classes }}">
        <input aria-label="Afficher le mot de passe"
               id="{{ field.id_for_label }}-show"
               type="checkbox"
               aria-describedby="{{ field.id_for_label }}-show-messages">
        <label class="fr-password__checkbox fr-label"
               for="{{ field.id_for_label }}-show">Afficher</label>
        <div class="fr-messages-group"
             id="{{ field.id_for_label }}-show-messages"
             aria-live="assertive"></div>
    </div>
</div>
