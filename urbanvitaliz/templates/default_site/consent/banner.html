{% load cookie_consent_tags %}
{% load django_vite %}
{% block js %}
    {% vite_asset 'js/apps/consent.js' %}
{% endblock %}
{% load sass_tags %}
{% block css %}
    <link href="{% sass_src 'home/css/dsfr/dsfr.css' %}"
          rel="stylesheet"
          type="text/css">
    <link href="{% sass_src 'home/css/dsfr/custom-dsfr.scss' %}"
          rel="stylesheet"
          type="text/css">
{% endblock %}
<div x-data="Consent">
    <template x-if="!userHasSelectedCookies">
        <div  class="fr-consent-banner">
            <h2 class="fr-h6">À propos des cookies sur {{ request.site.name }}</h2>
            <div class="fr-consent-banner__content">
                <p class="fr-text--sm">
                    Bienvenue ! Nous utilisons des cookies pour améliorer votre expérience et les services disponibles sur ce site. Pour en savoir plus, visitez la page <a href="">Données personnelles et cookies</a>. Vous pouvez, à tout moment, avoir le contrôle sur les cookies que vous souhaitez activer.
                </p>
            </div>
            <ul class="fr-consent-banner__buttons fr-btns-group fr-btns-group--right fr-btns-group--inline-reverse fr-btns-group--inline-sm">
                <li>
                    <button @click="handleAcceptAllCookies('{% url 'cookie_consent_accept_all' %}')"
                            class="fr-btn"
                            title="Autoriser tous les cookies">
                        Tout accepter
                    </button>
                </li>
                <li>
                    <button @click="handleRejectAllCookies('{% url 'cookie_consent_decline_all' %}')"
                            class="fr-btn"
                            title="Refuser tous les cookies">
                        Tout refuser
                    </button>
                </li>
                <li>
                    <a href="/cookies/" class="fr-btn fr-btn--secondary">Personnaliser</a>
                </li>
            </ul>
        </div>
    </template>
</div>
